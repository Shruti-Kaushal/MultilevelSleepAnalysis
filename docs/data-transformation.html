<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | MultilevelSleepAnalysis</title>
  <meta name="description" content="Chapter 3 Data transformation | MultilevelSleepAnalysis" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | MultilevelSleepAnalysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | MultilevelSleepAnalysis" />
  
  
  

<meta name="author" content="Shruti Kaushal &amp; Clarissa Tai" />


<meta name="date" content="2021-12-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">MultilevelSleep</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#dataset-overview"><i class="fa fa-check"></i><b>2.1</b> Dataset Overview</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#data-collection"><i class="fa fa-check"></i><b>2.2</b> Data Collection</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#sleep"><i class="fa fa-check"></i><b>3.1</b> Sleep</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#actigraph"><i class="fa fa-check"></i><b>3.2</b> Actigraph</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-transformation.html"><a href="data-transformation.html#definition-and-explanation-of-each-column"><i class="fa fa-check"></i><b>3.2.1</b> Definition and explanation of each column</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-transformation.html"><a href="data-transformation.html#transformation-process"><i class="fa fa-check"></i><b>3.2.2</b> Transformation process:</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#activity"><i class="fa fa-check"></i><b>3.3</b> Activity</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-transformation.html"><a href="data-transformation.html#definition-and-explanation-of-each-column-1"><i class="fa fa-check"></i><b>3.3.1</b> Definition and explanation of each column</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-transformation.html"><a href="data-transformation.html#transformation-process-1"><i class="fa fa-check"></i><b>3.3.2</b> Transformation process:</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-transformation.html"><a href="data-transformation.html#saliva"><i class="fa fa-check"></i><b>3.4</b> Saliva</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data-transformation.html"><a href="data-transformation.html#definition-and-explanation-of-each-column-2"><i class="fa fa-check"></i><b>3.4.1</b> Definition and explanation of each column</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-transformation.html"><a href="data-transformation.html#transformation-process-2"><i class="fa fa-check"></i><b>3.4.2</b> Transformation process</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data-transformation.html"><a href="data-transformation.html#user-info"><i class="fa fa-check"></i><b>3.5</b> User info</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="data-transformation.html"><a href="data-transformation.html#definition-and-explanation-of-each-column-3"><i class="fa fa-check"></i><b>3.5.1</b> Definition and explanation of each column</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#missing-value-plot"><i class="fa fa-check"></i><b>4.1</b> Missing Value Plot</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#metric-formulation"><i class="fa fa-check"></i><b>5.1</b> Metric Formulation</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#preliminary-observations"><i class="fa fa-check"></i><b>5.1.1</b> Preliminary Observations</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#distribution-of-variables"><i class="fa fa-check"></i><b>5.1.2</b> Distribution of Variables</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#distribution-of-sleep-quality-metric"><i class="fa fa-check"></i><b>5.1.3</b> Distribution of Sleep Quality Metric</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#establishing-direct-indirect-effects-on-sleep-quality"><i class="fa fa-check"></i><b>5.2</b> Establishing Direct &amp; Indirect Effects on Sleep Quality</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#bed-time-does-not-affect-sleep-quality"><i class="fa fa-check"></i><b>5.2.1</b> Bed Time Does Not Affect Sleep Quality</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a>
<ul>
<li class="chapter" data-level="7.1" data-path="conclusion.html"><a href="conclusion.html#discussion"><i class="fa fa-check"></i><b>7.1</b> Discussion</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">MultilevelSleepAnalysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<p>As mentioned in the introduction, for each sample or “user” many variables were sampled over the course of two days. These measurements are organized into 7 different file or categories like sleep, activity, actigraph, saliva samples etc. In this section we will focus on transforming each of the files that we used to perform any kind of analysis.</p>
<p>In conclusion, we worked on all the datetime columns and transformed them into the format <code>YYYY-MM-DD HH:MM:SS</code> due to analysis convenience. We decided to not include <code>RR.csv</code> in our discussion, since the heartbeat information is also included in the <code>actigraph.csv</code>. We considered it redundant and were more interested in relating heartbeat data to activities.</p>
<div id="sleep" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Sleep</h2>
<p>The sleep file includes measurements ranging from the time the user gets into bed to the time that he gets out of bed. The measurements can be broadly grouped into two categories - one that actually relates to the quality of sleep, for example, sleep fragmentation index and the average awakening length, and other category includes time measurements, for example, the time it took for the user to fall asleep and the time he was in bed after waking up. Variables that fall in the second category have a lot of information but can be combined together to transform time measurements to duration. “Durations” can be easily compared across users in a succinct manner. However, there are some variables, like in-bed and out-bed time, that we used as is because transforming them would actually lead to a loss in information.</p>
<p>There was only one user without any sleep records. Since the aim of our project is to define a metric for sleep quality and identify variables with direct or indirect effects, user 11 was excluded from all the analysis we performed. Having calculated the sleep quality for 21 users, it would be easy to treat user 11 as a missing value and apply different algorithms for imputing the value. However, this comes with a caveat - because the users are in themselves continuous categories and probably have their own distribution, looking at the entire sample space would mean that underlying distribution is multivariate. So, to effectively impute the value, we first need to estimate the distribution parameters (even if assume that the distribution of each user is normal). This is beyond the scope of this project but we do plan to try it out if time permits.</p>
<p>We also discovered a pattern that every user once in bed (to sleep) doesn’t get out of bed till morning except one. Sleep records of user 1 showed that he got out of bed at 3:31 AM and went back to sleep at 3:57 AM. It is hard to tell what activities did he engage in after getting out of bed briefly as the activities file (described below) does not have time stamps. For simplification of our analysis, we treated the time interval that the user was out of bed as an “awakening” i.e. when a user awaken from his sleep and remains awake for some time. This required updating the rest of the variables such as “Average Awakening Length”,“Sleep Fragmentation Index” etc. Depending on the definition of the variables, we either took the average or maximum or summed the two quantities corresponding to each of the “sleep sessions”. For example, “Total Sleep Time” was now the sum of the sleep time in both sessions, while “Sleep Fragmentation Index” was averaged across sessions.</p>
<p>We will define variables wherever needed but the reader is encouraged to go through the documentation of the dataset (link in chapter 2), to understand the variables in depth.</p>
</div>
<div id="actigraph" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Actigraph</h2>
<p><code>Actigraph.csv</code> contained accelerometer and inclinometer data recorded throughout the day. Overall, it tracked users’ movement data, such as steps, direction, acceleration, positions, etc.</p>
<div id="definition-and-explanation-of-each-column" class="section level3" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Definition and explanation of each column</h3>
<ol style="list-style-type: decimal">
<li>Axis1: Raw Acceleration data of the X-axis expressed in Newton-meter.</li>
<li>Axis2: Raw Acceleration data of the Y-axis expressed in Newton-meter.</li>
<li>Axis3: Raw Acceleration data of the Z-axis expressed in Newton-meter.</li>
<li>Steps: number of steps per second.</li>
<li>HR: beats per minutes (bpm).</li>
<li>Inclinometer Off: values equal to 1 refer to no activation of the inclinometer. The values are reported per second.</li>
<li>Inclinometer Standing: values equal to 1 refer to the standing position of the user, while 0 refers to other user positions. Values are reported per second.</li>
<li>Inclinometer Sitting: values equal to 1 refer to the sitting position of the user, while 0 refers to other user positions. Values are reported per second.</li>
<li>Inclinometer Lying: values equal to 1 refer to the lying position of the user, while 0 refers to other user positions. Values are reported per second.</li>
<li>Vector Magnitude: vector movement derived from raw acceleration data expressed in Newton-meter.</li>
<li>day: 1 and 2 refer to the first and second day of data recording, respectively.</li>
<li>time: day time when the heartbeat happened (hours:minutes:seconds)</li>
</ol>
</div>
<div id="transformation-process" class="section level3" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Transformation process:</h3>
<ol style="list-style-type: decimal">
<li><p>Datetime format: We transform the <code>time</code> column into datetime type in R. Also, since initial <code>time</code> column doesn’t contain date information, we add days according to the <code>day</code> column to create a relative time stamp for each record in order to facilitate future calculation.</p></li>
<li><p>Create category <code>Position</code>: Here we gathered columns with inclinometer information, which were <code>Inclinometer.Off</code>, <code>Inclinometer.Standing</code>, <code>Inclinometer.Sitting</code>, <code>Inclinometer.Lying</code>, transformed them into categorical column <code>Position</code>. By doing so, we can explore data correlations under groups of position throughout the day.</p></li>
</ol>
</div>
</div>
<div id="activity" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Activity</h2>
<div id="definition-and-explanation-of-each-column-1" class="section level3" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Definition and explanation of each column</h3>
<p>‘Start’ and ‘end’ columns refer to the time of the day (hours:minutes) when the event happened, while ‘day’ columns refers to the day when it happened (1 and 2 refer to the first and second day of data recording, respectively).</p>
</div>
<div id="transformation-process-1" class="section level3" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Transformation process:</h3>
<ol style="list-style-type: decimal">
<li><p>Datetime format: Here we substitute “00:00” to “24:00” in column <code>End</code> to avoid calculating between wrong dates, and then transformed into the format as we did for <code>Actigraph.csv</code>.</p></li>
<li><p>Relabel the activities: The document labeled the activity categories from 1 to 12. However, an extra category, labeled as <code>0</code>, also included in the dataset. In this project, we will assume that the <code>0</code> represented undetermined activities. Here, we also had to deal with several minor mistakes in the dataset manually.</p></li>
</ol>
<ul>
<li>13 Categories of activity:
<ul>
<li>undefined: all other unlabeled activity will count here.</li>
<li>sleeping</li>
<li>laying down</li>
<li>sitting: e.g. studying and driving</li>
<li>light mvmnt: e.g. slow/medium walk, chores and work.</li>
<li>medium: e.g. fast walk and bike</li>
<li>heavy: e.g. gym, running.</li>
<li>eating</li>
<li>small scr.usg: e.g. smartphone and computer.</li>
<li>large scr.usg: e.g. TV and cinema.</li>
<li>caff. consump.: caffeinated drink consumption, e.g. coffee or coke.</li>
<li>smoking</li>
<li>alc. consump.: alcohol assumption.</li>
</ul></li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li><p>Calculate duration for each activity: To figure the total time each user spent on each activity, we calculate time intervals (<code>End</code> - <code>Start</code>) between different activities in seconds.</p></li>
<li><p>Plotting: We explored the dataset using <code>geom_tile</code> in ggplot2 package. From the plot below, we noticed that user 21 was laying down for quite a long time.</p></li>
</ol>
<p><img src="finalproj_files/figure-html/unnamed-chunk-9-1.png" width="960" /></p>
<!-- ## Questionnaire -->
<!-- For this part, the dataset contains the answer of a total of 7 questionnaires for each user. The questionnaires examined users' anxiety, sleep quality, stress, emotion, etc, in order to understand the users' behavior. -->
<!-- No data cleaning is needed for this part. -->
<!-- ### Definition and explanation of each column -->
<!-- questionnaire.csv - scores for all the questionnaires: -->
<!-- *TODO: make visualization for each scale and score of each questionnaire.csv.* -->
<!-- 1. MEQ: Morningness-Eveningness Questionnaire value. The chronotype score is ranging from 16 to 86: scores of 41 and below indicate Evening types, scores of 59 and above indicate Morning types, scores between 42-58 indicate intermediate types. -->
<!-- 2. STAI1: State Anxiety value obtained from State-Trait Anxiety Inventory. The results are range from 20 to 80. Scores less than 31 may indicate low or no anxiety, scores between 31 and 49 an average level of anxiety or borderline levels, and scores higher than 50 a high level of anxiety or positive test results. -->
<!-- 3. STAI2: Trait Anxiety value obtained from the State-Trait Anxiety Inventory. The results are range from 20 to 80. Scores less than 31 may indicate low or no anxiety, scores between 31 and 49 an average level of anxiety or borderline levels, and scores higher than 50 a high level of anxiety or positive test results. -->
<!-- 4. PSQI: Pittsburgh Sleep Quality Questionnaire Index. It gives a score rating from 0 to 21, with values lower than 6 indicating good sleep quality. -->
<!-- 5. BIS/BAS: Behavioural avoidance/inhibition index. BIS/BAS scales are a typical measure of reinforcement sensitivity theory that establish biological roots in personality characteristics, derived from neuropsychological differences. The BIS/BAS scales comprise a self‐report measure of avoidance and approach tendencies that contains four sub-factors (A high score in one of the subscale describes the degree of that temperamental characteristic for the individual, according to the original sample): -->
<!--   + Bis facet: reflects subject sensitivity toward aversive events that promote avoidance behaviours. -->
<!--   + Drive: describes individual persistence and motivational intensity. -->
<!--   + Reward: corresponds to Reward Responsiveness that indicates a propensity to show a higher degree of positive emotion for goal attainment. -->
<!--   + Fun: corresponds to Fun-Seeking that is related to impulsivity and immediate reward due to sensory stimuli or risky situations. -->
<!-- 6. Daily_stress: Daily Stress Inventory value (DSI) is a 58 items self-reported measures which allows a person to indicate the events they experienced in the last 24 hours. After indicating which event occurred, they indicate the stressfulness of the invent on a Likert scale from 1 (occurred but was not stressful) to 7 (Cause me to panic). It gives a score between 0 and 406. The higher is this values, the higher is the frequency and degree of the events and the perceived daily stress. -->
<!-- 7. PANAS: Positive and Negative Affect Schedule. It gives a score rating between 5 and 50 for both positive and negative emotions. The higher is the PANAS value, the higher is the perceived emotion. Columns name with 10, 14, 22 and 9+1 refer to the time of the day when the questionnaire is filled in. 9+1 indicates the 9 AM of the second recording day. -->
<!-- ## RR -->
<!-- `RR` dataset contains the heartbeat records for each user. We can transform `ibi_s` to rate of heartbeat and align with activity records using `time` column. -->
<!-- Similar to `Actigraph` dataset, the only thing we need to do here is to transform the `time` column into datetime type in R. Also, since initial `time` column doesn't contain date information, we add days according to the `day` column to create a relative time stamp for each record in order to facilitate future calculation. -->
<!-- ### Definition and explanation of each column -->
<!-- RR.csv - beat-to-beat interval data: -->
<!-- 1. ibi_s: time in seconds between two consecutive beats. -->
<!-- 2. day: 1 and 2 refer to the first and second day of data recording, respectively. -->
<!-- 3. time: day time when the heartbeat happened (hours:minutes:seconds) -->
<!-- ```{r} -->
<!-- RR$time = string2time(RR$time, format = "%H:%M:%S") + lubridate::days(RR$day) -->
<!-- ``` -->
</div>
</div>
<div id="saliva" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Saliva</h2>
<p><code>Saliva.csv</code> collected <code>Melatonin</code> and <code>Cortisol</code> concentrations in the saliva for each participants before going to bed and after waking up. However, no data was provided for User_21 due to problem in the salivary samples that do not permit to analyse it.</p>
<div id="definition-and-explanation-of-each-column-2" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Definition and explanation of each column</h3>
<ol style="list-style-type: decimal">
<li>Sample: Two samples per participant are included, one before sleep and one after waking up.</li>
<li>Melatonin levels are reported in μg of melatonin per μg of protein.</li>
<li>Cortisol levels are in μg of cortisol per 100 μg of protein.</li>
</ol>
</div>
<div id="transformation-process-2" class="section level3" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Transformation process</h3>
<p>We calculated the difference in chemical concentration between sample collected before sleep and after waking up per each participant.</p>
<p><img src="finalproj_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
</div>
<div id="user-info" class="section level2" number="3.5">
<h2><span class="header-section-number">3.5</span> User info</h2>
<p>missing age for user_18. Otherwise, nothing need to be transformed or cleaned in this dataset. All male participants.</p>
<div id="definition-and-explanation-of-each-column-3" class="section level3" number="3.5.1">
<h3><span class="header-section-number">3.5.1</span> Definition and explanation of each column</h3>
<p>user_info.csv - anthropocentric characteristics of the participant:</p>
<ol style="list-style-type: decimal">
<li>gender: M and F refer to Male and Female, respectively.</li>
<li>height is expressed in centimetre (cm).</li>
<li>weight is expressed in kilograms (kg).</li>
<li>age is expressed in years.</li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Shruti-Kaushal/MultilevelSleepAnalysis/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/Shruti-Kaushal/MultilevelSleepAnalysis/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
